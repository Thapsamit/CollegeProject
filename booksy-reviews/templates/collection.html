{% extends "base.html" %} {% block content %}

<section class="content-container">

    <!-- Page heading -->
    <h3 id="collection-heading" class="center">Collection</h3>
    
    {% for review in reviews %}

    <!-- Paginated collection -->
    <div class="row collection-item">
        
        <!-- Book cover image -->
        <div class="col l4 m4 s12 center-on-small-only"><img class="image-collection" src="{{ review.cover }}" alt="Picture of {{ review.title }}"></div>

        <!-- Book information container -->
        <div class="col l5 m4 s12 center-on-small-only book-info-container">
            
            <!-- Book title -->
            <div class="row">
                
                <div class="col s12 title">{{ review.title }}</div>
                
            </div>
            
            <!-- Book author -->
            <div class="row">
                
                <div class="col s12"> By {{ review.author }} </div>
                
            </div>
            
            <!-- Book publication year -->
            <div class="row">
                
                <div class="col s12">{{ review.publication_year }}</div>
                
            </div>
            
            <!-- Book type -->
            <div class="row">
                
                <div class="col s12">{{ review.type }}</div>
                
            </div>
            
            <!-- Likes and dislikes count -->
            <div class="row left hide-on-small-only votes-container">
                
                <div class="col s3"><i class="material-icons thumb-up">thumb_up</i></div>
                <div class="col s2"><span class="thumb-up">{{ review.upvote_total }}</span></div>
                <div class="col s3"><i class="material-icons thumb-down">thumb_down</i></div>
                <div class="col s2"><span class="thumb-down">{{ review.downvote_total }}</span></div>
            
            </div>
            
        </div>
        
        <!-- View review buton -->
        <div class="col l3 m4 s12 center-on-small-only"><a class="btn waves-effect waves-light" href="{{url_for('view_review', review_id=review._id)}}"><i class="material-icons right">local_library</i>View</a></div>

    </div>

     <!-- Line between each book info container -->
    {% if (loop.index - loop.length) %} 
    
    <!-- Don't show line if there is only on result from the loop -->
    {% if (loop.first == loop.last) and (loop.first == true) %} 
    
    <!-- If more than one result show line -->
    {% else %} <hr> {% endif %} {% endif %}
    
    {% endfor %} 
    
    <!-- Pagination info and links -->
    {{ pagination.info }} {{ pagination.links }}

</section>

{% endblock %}
